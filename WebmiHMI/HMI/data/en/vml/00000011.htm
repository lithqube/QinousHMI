<?xml version="1.0" encoding="UTF-8"?>
<html xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>Numerical keyboard</title>
  <style>v\:*{behavior:url(#default#VML)}body{overflow:hidden}</style>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
 </head>
 <body>
  <v:group atv:coordfactor="100" atv:oe="2BC6J3FAD3C6P2OEI9MCM759A8C5D35F769AICH4D9M1C1MBPDLCT45CB68GEDG87" coordsize="42900,35550" id="webmivmlroot" style="height:356px;left:0;position:absolute;top:0;visibility:hidden;width:429px">
   <v:shapetype id="linear_12">
    <v:fill angle="180" colors="0 #ffffff, 1 #FFFFFF, 1 #FFFFFF" method="none" rotate="true" type="gradient"/>
   </v:shapetype>
   <v:rect atv:refpx="21450" atv:refpy="3750" fillcolor="#FFFFFF" id="id_0" stroked="false" strokeweight="1" style="height:7500px;left:4px;top:0px;width:42892px"/>
   <v:line atv:dynamic="true" atv:refpx="41400" atv:refpy="3750" from="-158550 3800" id="textValue" to="41450 3900">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string=" " style="font-family:'Varela Round';font-size:36px;v-text-align:right"/>
   </v:line>
   <v:rect atv:refpx="6050" atv:refpy="11000" id="btn7" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:50px;top:7500px;width:10700px" type="#linear_12"/>
   <v:line atv:refpx="6050" atv:refpy="3500" from="4400 11050" id="text7" to="204400 11150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="7" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:rect atv:refpx="41338" atv:refpy="78628" id="btn8" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:10750px;top:7500px;width:10700px" type="#linear_12"/>
   <v:line atv:refpx="16750" atv:refpy="11000" from="15100 11050" id="text8" to="215100 11150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="8" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:rect atv:refpx="27450" atv:refpy="3500" id="btn9" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:21450px;top:7500px;width:10700px" type="#linear_12"/>
   <v:line atv:refpx="27450" atv:refpy="3500" from="25800 11050" id="text9" to="225800 11150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="9" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:rect atv:refpx="6050" atv:refpy="10500" id="btn4" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:50px;top:14500px;width:10700px" type="#linear_12"/>
   <v:line atv:refpx="6050" atv:refpy="10500" from="4400 18050" id="text4" to="204400 18150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="4" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:rect atv:refpx="16750" atv:refpy="10500" id="btn5" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:10750px;top:14500px;width:10700px" type="#linear_12"/>
   <v:line atv:refpx="16750" atv:refpy="10500" from="15100 18050" id="text5" to="215100 18150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="5" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:rect atv:refpx="27450" atv:refpy="10500" id="btn6" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:21450px;top:14500px;width:10700px" type="#linear_12"/>
   <v:line atv:refpx="27450" atv:refpy="10500" from="25800 18050" id="text6" to="225800 18150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="6" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:rect atv:refpx="38150" atv:refpy="18000" id="btnCancel" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:32150px;top:14500px;width:10700px" type="#linear_12"/>
   <v:line atv:refpx="38150" atv:refpy="18000" from="36300 18050" id="textCancel" to="236300 18150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="X" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:rect atv:refpx="6050" atv:refpy="17500" id="btn1" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:50px;top:21500px;width:10700px" type="#linear_12"/>
   <v:line atv:refpx="6050" atv:refpy="17500" from="4400 25050" id="text1" to="204400 25150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="1" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:polyline fillcolor="#9695de" id="id_23" points="12300,20200 2100,6000 14400,32200 2400,17000 25200,16600 8700,18600 21800,6200 16400,29000 5100,26900 15200,25500 5600,11000 10100,4500 33300,33400 12300,20200 " strokecolor="#35ac90" stroked="true" strokeweight="3.75"/>
   <v:rect atv:refpx="16750" atv:refpy="17500" id="btn2" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:10750px;top:21500px;width:10700px" type="#linear_12"/>
   <v:polyline fillcolor="#72dee1" id="id_7" points="19600,32000 29100,34000 29300,9700 8000,1100 33100,26400 14700,21300 1200,13900 15300,18600 29400,15000 " strokecolor="#fad03a" stroked="true" strokeweight="3.75">
    <v:stroke joinstyle="miter"/>
   </v:polyline>
   <v:line atv:refpx="16750" atv:refpy="17500" from="15100 25050" id="text2" to="215100 25150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="2" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:rect atv:refpx="27450" atv:refpy="17500" id="btn3" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:21450px;top:21500px;width:10700px" type="#linear_12"/>
   <v:line fillcolor="#f034c9" from="33400,24100" id="id_22" strokecolor="#b8e19c" stroked="true" strokeweight="1.5" to="30400,5200">
    <v:stroke joinstyle="miter"/>
   </v:line>
   <v:line atv:refpx="27450" atv:refpy="17500" from="25800 25050" id="text3" to="225800 25150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="3" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:line fillcolor="#c90e71" from="41700,1900" id="id_9" strokecolor="#891955" stroked="true" strokeweight="0.75" to="12500,23900">
    <v:stroke joinstyle="miter"/>
   </v:line>
   <v:rect atv:refpx="38150" atv:refpy="28500" id="btnOk" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:14000px;left:32150px;top:21500px;width:10700px" type="#linear_12"/>
   <v:line fillcolor="#f3c1ca" from="4200,27400" id="id_32" strokecolor="#d58530" stroked="true" strokeweight="0.75" to="2400,18400">
    <v:stroke joinstyle="miter"/>
   </v:line>
   <v:polyline atv:refpx="38128" atv:refpy="28500" fillcolor="#ffffff" id="id_6" points="35665,28781 37033,30276 39291,26724 " strokecolor="#ffffff" stroked="true" strokeweight="4.5">
    <v:stroke joinstyle="miter"/>
    <v:fill opacity="0"/>
   </v:polyline>
   <v:rect atv:refpx="6050" atv:refpy="24500" id="btnMinus" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:50px;top:28500px;width:10700px" type="#linear_12"/>
   <v:rect fillcolor="#7ebcfd" id="id_1" strokecolor="#a55095" stroked="true" strokeweight="3" style="height:500px;left:20000px;top:10100px;width:9200px"/>
   <v:line atv:refpx="6050" atv:refpy="24500" from="4400 32050" id="textMinus" to="204400 32150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="-" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:rect atv:refpx="16750" atv:refpy="24500" id="btn0" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:10750px;top:28500px;width:10700px" type="#linear_12"/>
   <v:polyline fillcolor="#f32bef" id="id_37" points="5300,9300 24700,4600 39200,13900 17100,15200 13600,19500 " strokecolor="#14e2d4" stroked="true" strokeweight="3.75">
    <v:stroke joinstyle="miter"/>
   </v:polyline>
   <v:line atv:refpx="16750" atv:refpy="24500" from="15100 32050" id="text0" to="215100 32150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="0" style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:rect fillcolor="#3ca135" id="id_24" strokecolor="#95c157" stroked="true" strokeweight="1.5" style="height:13800px;left:6900px;top:15000px;width:33000px"/>
   <v:oval fillcolor="#bdd343" id="id_20" strokecolor="#f245ef" stroked="true" strokeweight="2.25" style="height:16400px;left:12000px;top:-1000px;width:16400px"/>
   <v:oval fillcolor="#8bced3" id="id_29" strokecolor="#dbf3e9" stroked="true" strokeweight="2.25" style="height:200px;left:-9500px;top:9200px;width:42400px"/>
   <v:rect atv:refpx="27450" atv:refpy="24500" id="btnComma" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:21450px;top:28500px;width:10700px" type="#linear_12"/>
   <v:rect fillcolor="#47e390" id="id_10" strokecolor="#27ca14" stroked="true" strokeweight="2.25" style="height:3400px;left:41900px;top:27600px;width:700px"/>
   <v:polyline fillcolor="#827a1c" id="id_27" points="8000,31600 22700,700 6700,31300 42700,32900 34300,19900 7200,21700 8000,31600 " strokecolor="#850fe4" stroked="true" strokeweight="0.75"/>
   <v:line atv:refpx="27450" atv:refpy="24500" from="25800 32050" id="textComma" to="225800 32150">
    <v:path textpathok="true"/>
    <v:fill color="#647A8F" on="true"/>
    <v:stroke on="false"/>
    <v:textpath on="true" string="." style="font-family:'Varela Round';font-size:36px;v-text-align:left"/>
   </v:line>
   <v:line fillcolor="#4a26d0" from="30800,13900" id="id_15" strokecolor="#6ba72c" stroked="true" strokeweight="3.75" to="25500,9700">
    <v:stroke joinstyle="miter"/>
   </v:line>
   <v:rect atv:refpx="38150" atv:refpy="11000" id="btnDel" strokecolor="#646464" stroked="true" strokeweight="0.75" style="height:7000px;left:32150px;top:7500px;width:10700px" type="#linear_12"/>
   <v:line fillcolor="#7cf14e" from="3900,8000" id="id_35" strokecolor="#7147bf" stroked="true" strokeweight="3.75" to="38400,17400">
    <v:stroke joinstyle="miter"/>
   </v:line>
   <v:polyline atv:refpx="40568" atv:refpy="9410" fillcolor="#ffffff" id="id_3" points="39183,10100 39183,11900 36783,11900 35783,11000 36783,10100 39183,10100 " stroked="false" strokeweight="1.5">
    <v:stroke joinstyle="miter"/>
   </v:polyline>
   <v:oval fillcolor="#96e4e7" id="id_19" strokecolor="#964a83" stroked="true" strokeweight="2.25" style="height:4400px;left:25100px;top:7000px;width:4400px"/>
   <v:line fillcolor="#140834" from="33100,23800" id="id_14" strokecolor="#49fec0" stroked="true" strokeweight="3" to="30500,5700">
    <v:stroke joinstyle="miter"/>
   </v:line>
   <v:line atv:refpx="41821" atv:refpy="18873" from="37520,10651" id="id_4" strokecolor="#647A8F" stroked="true" strokeweight="1.03" to="38394,11349">
    <v:stroke joinstyle="miter"/>
   </v:line>
   <v:line atv:refpx="41821" atv:refpy="18873" from="38394,10651" id="id_5" strokecolor="#647A8F" stroked="true" strokeweight="1.03" to="37520,11349">
    <v:stroke joinstyle="miter"/>
   </v:line>
   <v:group atv:refpx="21450" atv:refpy="21500" coordorigin="-12600,-7700" coordsize="55450,48000" id="id_2" style="height:48000px;left:-12600px;top:-7700px;width:55450px">
    <v:rect atv:dynamic="true" atv:refpx="5400" atv:refpy="18500" fillcolor="#1c7eff" id="seven" stroked="false" strokeweight="1" style="height:7000px;left:50px;top:7500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:oval fillcolor="#384fff" id="id_34" strokecolor="#f5c8db" stroked="true" strokeweight="2.25" style="height:25000px;left:30900px;top:10000px;width:3600px"/>
    <v:polyline fillcolor="#e432d6" id="id_26" points="39900,32100 41600,27600 41600,11700 21600,1600 25500,7300 1600,19000 30900,30100 20800,4700 900,10200 21500,33100 30600,500 39900,32100 " strokecolor="#dcb2a2" stroked="true" strokeweight="3.75"/>
    <v:rect atv:dynamic="true" atv:refpx="16150" atv:refpy="11000" fillcolor="#1c7eff" id="eight" stroked="false" strokeweight="1" style="height:7000px;left:10750px;top:7500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:polyline fillcolor="#1f0fc9" id="id_12" points="10500,32800 37200,400 32900,23100 8400,6300 900,23000 13200,29600 5500,26000 35900,27400 29400,16400 32200,10000 " strokecolor="#39d912" stroked="true" strokeweight="1.5">
     <v:stroke joinstyle="miter"/>
    </v:polyline>
    <v:rect atv:dynamic="true" atv:refpx="48250" atv:refpy="11000" fillcolor="#1c7eff" id="nine" stroked="false" strokeweight="1" style="height:7000px;left:21450px;top:7500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:polyline fillcolor="#4d6435" id="id_36" points="100,30100 4700,28300 20900,18400 14200,15000 4500,31600 " strokecolor="#bde69e" stroked="true" strokeweight="2.25">
     <v:stroke joinstyle="miter"/>
    </v:polyline>
    <v:polyline fillcolor="#1bb25b" id="id_30" points="32200,4300 31900,20500 7800,14700 28900,7800 7800,18400 11700,31100 17500,14300 8800,35000 4200,21100 4000,23800 24800,31600 37800,18000 " strokecolor="#ef15d9" stroked="true" strokeweight="1.5">
     <v:stroke joinstyle="miter"/>
    </v:polyline>
    <v:rect atv:dynamic="true" atv:refpx="5400" atv:refpy="32500" fillcolor="#1c7eff" id="four" stroked="false" strokeweight="1" style="height:7000px;left:50px;top:14500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:oval fillcolor="#cd1096" id="id_28" strokecolor="#3e82c9" stroked="true" strokeweight="2.25" style="height:26400px;left:10200px;top:13900px;width:26400px"/>
    <v:rect atv:dynamic="true" atv:refpx="16100" atv:refpy="32500" fillcolor="#1c7eff" id="five" stroked="false" strokeweight="1" style="height:7000px;left:10750px;top:14500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:rect atv:dynamic="true" atv:refpx="48250" atv:refpy="18000" fillcolor="#1c7eff" id="six" stroked="false" strokeweight="1" style="height:7000px;left:21450px;top:14500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:polyline fillcolor="#e20404" id="id_25" points="24900,28900 7000,22100 28200,6600 17800,700 17500,28300 " strokecolor="#a05d65" stroked="true" strokeweight="1.5">
     <v:stroke joinstyle="miter"/>
    </v:polyline>
    <v:rect atv:dynamic="true" atv:refpx="69650" atv:refpy="18000" fillcolor="#1c7eff" id="cancel" stroked="false" strokeweight="1" style="height:7000px;left:32150px;top:14500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:oval fillcolor="#99219c" id="id_16" strokecolor="#ab0aea" stroked="true" strokeweight="3.75" style="height:32800px;left:-12600px;top:6800px;width:32800px"/>
    <v:rect atv:dynamic="true" atv:refpx="5400" atv:refpy="46500" fillcolor="#1c7eff" id="one" stroked="false" strokeweight="1" style="height:7000px;left:50px;top:21500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:rect fillcolor="#d979f4" id="id_33" strokecolor="#5c9b01" stroked="true" strokeweight="3" style="height:1000px;left:6100px;top:24100px;width:33400px"/>
    <v:line fillcolor="#7eaa12" from="22900,20400" id="id_18" strokecolor="#573afa" stroked="true" strokeweight="3.75" to="30400,4900">
     <v:stroke joinstyle="miter"/>
    </v:line>
    <v:rect atv:dynamic="true" atv:refpx="16100" atv:refpy="46500" fillcolor="#1c7eff" id="two" stroked="false" strokeweight="1" style="height:7000px;left:10750px;top:21500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:rect fillcolor="#5d7a1b" id="id_13" strokecolor="#4b2813" stroked="true" strokeweight="0.75" style="height:14000px;left:9200px;top:9600px;width:32500px"/>
    <v:polyline fillcolor="#a22699" id="id_11" points="32100,16500 18800,32000 23300,33900 100,6100 41300,26700 17700,15700 32700,30600 17300,34700 2600,8700 32100,16500 " strokecolor="#192225" stroked="true" strokeweight="1.5"/>
    <v:rect atv:dynamic="true" atv:refpx="26800" atv:refpy="46500" fillcolor="#1c7eff" id="three" stroked="false" strokeweight="1" style="height:7000px;left:21450px;top:21500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:rect atv:dynamic="true" atv:refpx="69606" atv:refpy="25000" fillcolor="#1c7eff" id="ok" stroked="false" strokeweight="1" style="height:14000px;left:32128px;top:21500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:polyline fillcolor="#f2d96d" id="id_31" points="7500,11000 16900,23600 24900,21300 26500,3600 19300,0 700,15500 " strokecolor="#2b17be" stroked="true" strokeweight="0.75">
     <v:stroke joinstyle="miter"/>
    </v:polyline>
    <v:rect atv:dynamic="true" atv:refpx="5400" atv:refpy="60500" fillcolor="#1c7eff" id="minus" stroked="false" strokeweight="1" style="height:7000px;left:50px;top:28500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:oval fillcolor="#6009b7" id="id_8" strokecolor="#322b14" stroked="true" strokeweight="3.75" style="height:18000px;left:16800px;top:-7700px;width:18000px"/>
    <v:rect atv:dynamic="true" atv:refpx="16100" atv:refpy="60500" fillcolor="#1c7eff" id="zero" stroked="false" strokeweight="1" style="height:7000px;left:10750px;top:28500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:rect atv:dynamic="true" atv:refpx="26800" atv:refpy="60500" fillcolor="#1c7eff" id="comma" stroked="false" strokeweight="1" style="height:7000px;left:21450px;top:28500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:oval fillcolor="#6db389" id="id_17" strokecolor="#13c244" stroked="true" strokeweight="2.25" style="height:3400px;left:15300px;top:200px;width:20200px"/>
    <v:rect atv:dynamic="true" atv:refpx="69650" atv:refpy="11000" fillcolor="#1c7eff" id="del" stroked="false" strokeweight="1" style="height:7000px;left:32150px;top:7500px;width:10700px">
     <v:fill opacity="0"/>
    </v:rect>
    <v:rect fillcolor="#f21f39" id="id_21" strokecolor="#65eab1" stroked="true" strokeweight="2.25" style="height:400px;left:11900px;top:30700px;width:500px"/>
   </v:group>
  </v:group>
  <script type="text/javascript" src="../../webmi.js"></script>
  <script type="text/javascript">//<![CDATA[
webMI.proxy({"":[function(webMI,window,document,self){var q = webMI.query;
var actualText;
var decSeparator = '.';
var hoverColor = '#0531f2';
var numbers = [
	'minValue', 'maxValue', 'digitsBeforePoint', 'digitsAfterPoint'
];
var isOkButtonEnabled = false;

function setButtonEnabled(button, value) {
	isOkButtonEnabled = value;
	webMI.gfx.setFill(button, value ? "url(#linear_12)" : "#c8c8c8");
}

function isValid(value) {
	if (isNaN(value))
		return false;
	if (!isNaN(q.maxValue) && value > q.maxValue)
		return false;
	if (!isNaN(q.minValue) && value < q.minValue)
		return false;

	return true;
}

function makeStars(length) {
	return new Array(length + 1).join("*");
}

function setText(text) {
	actualText = text;

	if (webMI.query["password"] == "Yes")
		text = makeStars(cutUnit(text).length) + q.unit;

	webMI.gfx.setText("textValue", text);
}

for (var i in numbers)
	q[numbers[i]] = parseFloat(q[numbers[i]]);

q.unit = (q.unit != "") ? " " + q.unit : q.unit;

setButtonEnabled("btnOk", isValid(
	parseFloat(webMI.query.value)
));
setText(webMI.query.value + " " + webMI.query.unit);

function cutUnit(text) {
	if (q.unit.length == 0) return text;
	return text.substr(0, text.indexOf(q.unit));
}

var mousedowns = [
	'zero', 'one', 'two', 'three', 'four',
	'five', 'six', 'seven', 'eight', 'nine'
];

var mouseFunction = function(mouse, group, color) {
	var _func = function(e) {
		if (group == "ok" && !isOkButtonEnabled)
			return;

		webMI.gfx.setFillOpacity(group, color);
	};

	webMI.addEvent(group, mouse, _func);

	if (mouse == 'mouseup')
		webMI.addEvent(group, 'mouseout', _func);
};

var setFunction = function (group, item, number) {

	webMI.addEvent(group, 'click', function(e) {
		var val = cutUnit(actualText) + number;
		var minus = (val.indexOf('-') == -1) ? 0 : 1;
		var indexOfDec = val.indexOf(decSeparator);
		var digitsAfter = val.substr(indexOfDec + 1).length;
		var digitsBefore = val.substr(minus, indexOfDec - minus).length;

		if (indexOfDec == -1) {
			digitsBefore = digitsAfter - minus;
			digitsAfter = 0;
		}

		if (digitsBefore > q.digitsBeforePoint || digitsAfter > q.digitsAfterPoint)
			return;

		setButtonEnabled("btnOk", isValid(
			parseFloat(val)
		));
		setText(val + q.unit);
	});

};

for (var i=0; i < mousedowns.length; i++) {
	mouseFunction('mousedown', mousedowns[i], 0.5);
	mouseFunction('mouseup', mousedowns[i], 0);
	setFunction(mousedowns[i], 'btn' + i, i);
}

mouseFunction('mousedown', 'cancel', 0.5);
mouseFunction('mousedown', 'ok', 0.5);
mouseFunction('mousedown', 'minus', 0.5);
mouseFunction('mousedown', 'comma', 0.5);
//mouseFunction('mousedown', 'del', 0.5);

var delDown;

webMI.addEvent('del', 'mousedown', function(e) {
	webMI.gfx.setFillOpacity('del', 0.5);
	delDown = setTimeout(function() {
		setButtonEnabled("btnOk", false);
		setText(' ' + q.unit);
	}, 1500);
});

mouseFunction('mouseup', 'cancel', 0);
mouseFunction('mouseup', 'ok', 0);
mouseFunction('mouseup', 'minus', 0);
mouseFunction('mouseup', 'comma', 0);
//mouseFunction('mouseup', 'del', 0);

var delMouseUp = function(e) {
	webMI.gfx.setFillOpacity('del', 0);
	clearTimeout(delDown);
};

webMI.addEvent('del', 'mouseup', delMouseUp);
webMI.addEvent('del', 'mouseout', delMouseUp);

webMI.addEvent('minus', 'click', function(e) {
	var textValue = cutUnit(actualText);
	var value = (-1) * parseFloat(textValue);

	if (isNaN(value))
		return;

	setButtonEnabled("btnOk", isValid(value));
	setText(value + q.unit);
});



webMI.addEvent('del', 'click', function(e) {
	var text = cutUnit(actualText);
	text = text.substr(0, text.length-1) + q.unit;

	setButtonEnabled("btnOk", isValid(
		parseFloat(text)
	));
	setText(text);
});



webMI.addEvent('cancel', 'click', function(e) {
	webMI.display.closeWindow();
});



webMI.addEvent('ok', 'click', function(e) {
	if (!isOkButtonEnabled)
		return;

	if (q.queryConfirm == 'true' && !confirm(q.queryConfirmText)) return;

	var value = parseFloat(cutUnit(actualText));

	if (q.target != undefined) {
		webMI.data.write(q.target, value);
	}

	webMI.trigger.fire("valuechanged", value, "");

	if (q.trigger)
		webMI.trigger.fire(q.trigger, value);

	webMI.display.closeWindow();
});



webMI.addEvent('comma', 'click', function(e) {
	var textValue = cutUnit(actualText);

	if (textValue.indexOf(decSeparator) == -1) textValue += decSeparator;

	setText(textValue + q.unit);
});
},{},{"password":"No","queryConfirmText":"Do you really want to set the value?","unit":"","value":""}]},window);
//]]></script>
 </body>
</html>
